!function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);f.length;)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={0:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([121,1]),r()}({121:function(t,e,r){r(122),t.exports=r(309)},308:function(t,e,r){},309:function(t,e,r){"use strict";r.r(e);r(308);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._arrTask=[],this._arrProgress=[],this._arrComplete=[]}var e,r,a;return e=t,(r=[{key:"addArrTask",value:function(t){this._arrTask.push(t)}},{key:"addArrProgress",value:function(t){this._arrProgress.push(t)}},{key:"addArrComplete",value:function(t){this._arrComplete.push(t)}},{key:"arrTask",get:function(){return this._arrTask}},{key:"arrProgress",get:function(){return this._arrProgress}},{key:"arrComplete",get:function(){return this._arrComplete}}])&&n(e.prototype,r),a&&n(e,a),t}());function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=null,this.body=null,this.container=document.querySelector(".favorites"),this.btn=null,this.card=null,this.id=null,this._arrFavorites=[]}var e,r,n;return e=t,n=[{key:"templateOfTask",value:function(t,e,r){return'\n    <div class="favorites-card js-card" draggable="true" data-card-id="'.concat(r,'">\n            <div class="favorites-card__title">').concat(t,'</div>\n            <div class="favorites-card__info">').concat(e,'</div>\n            <button class="favorites-card__button" >Отложить</button>\n          </div>\n    ')}}],(r=[{key:"checkArrFavorites",value:function(t){var e=!0;return this._arrFavorites.map((function(r){console.log(r.id,t),parseFloat(r.id)===parseFloat(t)&&(e=!1)})),e}},{key:"checkArrinCardStore",value:function(t){parseFloat(t._id)===parseFloat(this.id)&&(this._arrFavorites.push({title:t.title,body:t.body,id:t._id}),localStorage.setItem("card"))}},{key:"init",value:function(t){this.id=t,a.arrTask.forEach((function(t){o.checkArrinCardStore(t)})),a.arrProgress.forEach((function(t){o.checkArrinCardStore(t)})),a.arrComplete.forEach((function(t){o.checkArrinCardStore(t)}))}},{key:"renderTask",value:function(){this.clearFavoriteContainer();var e="";return JSON.parse(localStorage.getItem("card")).forEach((function(r){e+=t.templateOfTask(r.title,r.body,r.id)})),e}},{key:"showTaskInFavorites",value:function(){var t=o.renderTask();this.container.insertAdjacentHTML("afterbegin",t),c()}},{key:"clearFavoriteContainer",value:function(){this.container.innerHTML=""}},{key:"counterMinus",value:function(){return this._arrFavorites.length-1}},{key:"arrFavorites",get:function(){return this._arrFavorites}}])&&i(e.prototype,r),n&&i(e,n),t}()),s=o;var c=function(){var t,e=document.querySelectorAll(".js-cell"),r=document.querySelectorAll(".js-card"),n=document.querySelector(".header-favorites__counter");function a(){var e=this;t=this,setTimeout((function(){e.classList.add("hide")}),0)}function i(){this.classList.remove("hide"),t=0}function o(t){t.preventDefault(),this.style="min-height: 250px"}function c(t){t.preventDefault()}function l(){if(this.style="height: auto","favoriteC"===this.id){n.textContent=JSON.parse(localStorage.getItem("card")).length;var e=t.parents.getAttribute("data-card-id");console.log(e),s.deleteCardInObj(e)}}function u(){"progressC"===this.id&&(t.classList.remove("green"),t.classList.add("red")),"completeC"===this.id&&(t.classList.remove("red"),t.classList.add("green")),"taskC"===this.id&&(t.classList.remove("green"),t.classList.remove("red")),this.appendChild(t)}e.forEach((function(t){t.addEventListener("dragover",o),t.addEventListener("dragenter",c),t.addEventListener("dragleave",l),t.addEventListener("drop",u)})),r.forEach((function(t){t.addEventListener("dragstart",a),t.addEventListener("dragend",i)}))};function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.form=null,this.title=null,this.body=null,this.container=null,this.card=null,this.btn=null,this.id=null}var e,r,n;return e=t,(r=[{key:"init",value:function(t){this.form=document.forms["".concat(t)],this.container=this.form.parentElement,this.title=this.form.elements.inputTitle,this.body=this.form.elements.inputBody,this.form.classList.toggle("active")}},{key:"pushCardInArr",value:function(){"taskC"!==this.container.id?"progressC"!==this.container.id?"completeC"!==this.container.id||a.addArrComplete(u.transformCardInObj(this.title.value,this.body.value)):a.addArrProgress(u.transformCardInObj(this.title.value,this.body.value)):a.addArrTask(u.transformCardInObj(this.title.value,this.body.value))}},{key:"transformCardInObj",value:function(t,e){return{_id:this.id,title:t,body:e}}},{key:"showForm",value:function(t){this.form=document.forms["".concat(t)],this.form.classList.toggle("active")}},{key:"renderTask",value:function(){var t=this.title.value,e=this.body.value;if(!t)return alert("Введите название задачи!"),void this.form.classList.toggle("active");if(!e)return alert("Введите описание задачи!"),void this.form.classList.toggle("active");var r=u.templateTask(t,e);this.container.insertAdjacentHTML("beforeend",r),u.pushCardInArr(),c(),this.btn=document.querySelector(".list-card__button"),this.form.reset()}},{key:"getBtn",value:function(){return this.btn}},{key:"templateTask",value:function(t,e){var r=Math.random();return this.id=r,'\n    <div class="list-card js-card" draggable="true" >\n    <div class="list-card__title">'.concat(t,'</div>\n    <div class="list-card__info">').concat(e,'</div>\n    <button class="list-card__button btnF" data-card-id="').concat(this.id,'">Отложить</button>\n  </div>\n    ')}}])&&l(e.prototype,r),n&&l(e,n),t}()),d=u,f=document.querySelectorAll(".js-cell"),v=document.querySelector(".js-task"),h=document.querySelector(".js-progress"),p=document.querySelector(".js-complete"),m=document.querySelector(".header-favorites__counter"),g=document.querySelector(".header-favorites"),y=document.querySelector(".favorites"),b=localStorage.getItem("card"),k=JSON.parse(b);function _(t,e){t.preventDefault(),"taskForm"===e&&v.classList.toggle("active-btn"),"progressForm"===e&&h.classList.toggle("active-btn"),"activeForm"===e&&p.classList.toggle("active-btn"),d.showForm("".concat(e))}g.addEventListener("click",(function(t){y.classList.toggle("active-favorites"),s.showTaskInFavorites()})),v.addEventListener("click",(function(t){_(t,"taskForm")})),h.addEventListener("click",(function(t){_(t,"progressForm")})),p.addEventListener("click",(function(t){_(t,"activeForm")})),f.forEach((function(t){t.addEventListener("click",(function(t){!function(t){if(t.target.classList.contains("btnF")){var e=t.target.getAttribute("data-card-id");if(!s.checkArrFavorites(e))return void console.log("Вы уже добавили этот билет");s.init(e)}}(t)}))})),f.forEach((function(t){t.addEventListener("submit",(function(t){!function(t){t.preventDefault();var e=t.target.name;d.init(e),d.renderTask(),"taskForm"===e?v.classList.remove("active-btn"):"progressForm"===e?h.classList.remove("active-btn"):p.classList.remove("active-btn")}(t)}))})),m.textContent=k.length}});