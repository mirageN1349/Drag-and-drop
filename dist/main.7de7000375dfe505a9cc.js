!function(e){function r(r){for(var a,s,i=r[0],l=r[1],c=r[2],u=0,f=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(r);f.length;)f.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,r=0;r<n.length;r++){for(var t=n[r],a=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(a=!1)}a&&(n.splice(r--,1),e=s(s.s=t[0]))}return e}var a={},o={0:0},n=[];function s(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=a,s.d=function(e,r,t){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)s.d(t,a,function(r){return e[r]}.bind(null,a));return t},s.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(r,"a",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=r,i=i.slice();for(var c=0;c<i.length;c++)r(i[c]);var d=l;n.push([121,1]),t()}({121:function(e,r,t){t(122),e.exports=t(309)},308:function(e,r,t){},309:function(e,r,t){"use strict";t.r(r);t(308);var a=function(){var e,r=document.querySelectorAll(".js-cell"),t=document.querySelectorAll(".js-card");function a(){var r=this;e=this,setTimeout((function(){r.classList.add("hide")}),0)}function o(){this.classList.remove("hide"),e=0}function n(e){e.preventDefault(),this.style="min-height: 200px"}function s(e){e.preventDefault()}function i(){"favoriteC"!==this.id&&(this.style="height: auto")}function l(){if("progressC"===this.id){e.classList.remove("green"),e.classList.add("red");var r=e.id;c.findCardInArr(r,"progress"),this.style="height: auto",console.log("task:",c.arrTask),console.log("progress:",c.arrProgress),console.log("complete:",c.arrComplete),console.log("favorite:",JSON.parse(localStorage.getItem("arrCard"))),console.log(" ")}if("completeC"===this.id){e.classList.remove("red"),e.classList.add("green");var t=e.id;c.findCardInArr(t,"complete"),this.style="height: auto",console.log("task:",c.arrTask),console.log("progress:",c.arrProgress),console.log("complete:",c.arrComplete),console.log("favorite:",JSON.parse(localStorage.getItem("arrCard"))),console.log(" ")}if("taskC"===this.id){e.classList.remove("green"),e.classList.remove("red");var a=e.id;c.findCardInArr(a,"task"),this.style="height: auto",console.log("task:",c.arrTask),console.log("progress:",c.arrProgress),console.log("complete:",c.arrComplete),console.log("favorite:",JSON.parse(localStorage.getItem("arrCard"))),console.log(" ")}if("favoriteC"===this.id){var o=e.id;c.findCardInArr(o,"favorite"),console.log("task:",c.arrTask),console.log("progress:",c.arrProgress),console.log("complete:",c.arrComplete),console.log("favorite:",JSON.parse(localStorage.getItem("arrCard"))),console.log(" ")}this.appendChild(e)}r.forEach((function(e){e.addEventListener("dragover",n),e.addEventListener("dragenter",s),e.addEventListener("dragleave",i),e.addEventListener("drop",l)})),t.forEach((function(e){e.addEventListener("dragstart",a),e.addEventListener("dragend",o)}))};function o(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=new(function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=null,this.body=null,this.container=document.querySelector(".favorites"),this.btn=null,this.card=null,this.id=null,this._arrFavorites=[],this._counter=null,this.counterEl=document.querySelector(".header-favorites__counter")}var r,t,s;return r=e,s=[{key:"templateOfTask",value:function(e,r,t){var a=t.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-");return'\n    <div class="favorites-card js-card" draggable="true" id="'.concat(a[1],'">\n            <div class="favorites-card__title">').concat(e,'</div>\n            <div class="favorites-card__info">').concat(r,'</div>\n            <button class="favorites-card__button" >Отложить</button>\n          </div>\n    ')}}],(t=[{key:"checkArrFavorites",value:function(e){var r=!0;return this._arrFavorites.map((function(t){console.log(t.id,e),parseFloat(t.id)===parseFloat(e)&&(r=!1)})),r}},{key:"deleteCard",value:function(e){this.arrFavorites.splice(e,1)}},{key:"checkArrinCardStore",value:function(e){this._arrFavorites=JSON.parse(localStorage.getItem("arrCard"))||[];var r=e._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-");parseFloat(r[1])===parseFloat(this.id)&&(this._arrFavorites.push({title:e.title,body:e.body,id:e._id}),localStorage.setItem("arrCard",JSON.stringify(this._arrFavorites)),n.plusCounter(),this.counterEl.textContent=this._counter)}},{key:"plusCounter",value:function(){JSON.parse(localStorage.getItem("arrCard"))?this._counter=JSON.parse(localStorage.getItem("arrCard")).length:this._counter=0}},{key:"init",value:function(e){this.id=e,c.arrTask.forEach((function(e){n.checkArrinCardStore(e)})),c.arrProgress.forEach((function(e){n.checkArrinCardStore(e)})),c.arrComplete.forEach((function(e){n.checkArrinCardStore(e)}))}},{key:"renderTask",value:function(){this.clearFavoriteContainer();var r='<h3 class="favorites-title">Отложенные</h3>';return JSON.parse(localStorage.getItem("arrCard")).forEach((function(t){r+=e.templateOfTask(t.title,t.body,t.id)})),r}},{key:"showTaskInFavorites",value:function(){if(this._counter){var e=n.renderTask();this.container.insertAdjacentHTML("afterbegin",e)}a()}},{key:"clearFavoriteContainer",value:function(){this.container.innerHTML=""}},{key:"arrFavorites",get:function(){return this._arrFavorites}},{key:"counter",get:function(){return this._counter}}])&&o(r.prototype,t),s&&o(r,s),e}()),s=n;function i(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=new(function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._arrTask=[],this._arrProgress=[],this._arrComplete=[],this.taskContainer=document.getElementById("taskC"),this.progressContainer=document.getElementById("progressC"),this.completeContainer=document.getElementById("completeC"),this.counter=document.querySelector(".header-favorites__counter"),this._arrFavorite=JSON.parse(localStorage.getItem("cardArr"))||[]}var r,t,a;return r=e,(t=[{key:"addArrTask",value:function(e){this._arrTask.push(e)}},{key:"addArrProgress",value:function(e){this._arrProgress.push(e)}},{key:"addArrComplete",value:function(e){this._arrComplete.push(e)}},{key:"addArrFavorite",value:function(e){this._arrFavorite.push(e)}},{key:"findCardInArr",value:function(e,r){var t=this;this.arrTask.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]!==e);else switch(r){case"task":var n=l.transformCardInObj(a.title,a.body,"task-",e);l.addArrTask(n),t.arrTask.splice(o,1);break;case"progress":var s=l.transformCardInObj(a.title,a.body,"progress-",e);l.addArrProgress(s),t.arrTask.splice(o,1);break;case"complete":var i=l.transformCardInObj(a.title,a.body,"complete-",e);l.addArrComplete(i),t.arrTask.splice(o,1);break;case"favorite":var c=l.transformCardInObj(a.title,a.body,"favorite-",e);l.addArrFavorite(c),t.arrTask.splice(o,1)}})),this.arrProgress.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]!==e);else switch(r){case"task":var n=l.transformCardInObj(a.title,a.body,"task-",e);l.addArrTask(n),t.arrProgress.splice(o,1);break;case"progress":var s=l.transformCardInObj(a.title,a.body,"progress-",e);l.addArrProgress(s),t.arrProgress.splice(o,1);break;case"complete":var i=l.transformCardInObj(a.title,a.body,"complete-",e);l.addArrComplete(i),t.arrProgress.splice(o,1);break;case"favorite":var c=l.transformCardInObj(a.title,a.body,"favorite-",e);l.addArrFavorite(c),t.arrProgress.splice(o,1)}})),this.arrComplete.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]===e)switch(r){case"task":var n=l.transformCardInObj(a.title,a.body,"task-",e);l.addArrTask(n),t.arrComplete.splice(o,1);break;case"progress":var s=l.transformCardInObj(a.title,a.body,"progress-",e);l.addArrProgress(s),t.arrComplete.splice(o,1);break;case"complete":var i=l.transformCardInObj(a.title,a.body,"complete-",e);l.addArrComplete(i),t.arrComplete.splice(o,1);break;case"favorite":var c=l.transformCardInObj(a.title,a.body,"favorite-",e);l.addArrFavorite(c),t.arrComplete.splice(o,1)}}))}},{key:"deleteCardinArr",value:function(e,r){var t=this;this.arrTask.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]===e){t.arrTask.splice(o,1);var n=r.target.parentElement;t.taskContainer.removeChild(n)}})),this.arrProgress.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]===e){t.arrProgress.splice(o,1);var n=r.target.parentElement;t.progressContainer.removeChild(n)}})),this.arrComplete.forEach((function(a,o){if(a._id.replace(/([0-9])\s+([^0-9])/g,"$1,$2").split("-")[1]===e){t.arrComplete.splice(o,1);var n=r.target.parentElement;t.completeContainer.removeChild(n)}}))}},{key:"transformCardInObj",value:function(e,r,t,a){return{_id:t+a,title:e,body:r}}},{key:"arrTask",get:function(){return this._arrTask}},{key:"arrProgress",get:function(){return this._arrProgress}},{key:"arrComplete",get:function(){return this._arrComplete}}])&&i(r.prototype,t),a&&i(r,a),e}()),c=l;function d(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=new(function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=null,this.title=null,this.body=null,this.container=null,this.card=null,this.btn=null,this.id=null}var r,t,o;return r=e,(t=[{key:"init",value:function(e){this.form=document.forms["".concat(e)],this.container=this.form.parentElement,this.title=this.form.elements.inputTitle,this.body=this.form.elements.inputBody,this.form.classList.toggle("active")}},{key:"pushCardInArr",value:function(){"taskC"!==this.container.id?"progressC"!==this.container.id?"completeC"!==this.container.id||c.addArrComplete(u.transformCardInObj(this.title.value,this.body.value,"complete-")):c.addArrProgress(u.transformCardInObj(this.title.value,this.body.value,"progress-")):c.addArrTask(u.transformCardInObj(this.title.value,this.body.value,"task-"))}},{key:"transformCardInObj",value:function(e,r,t){return{_id:t+this.id,title:e,body:r}}},{key:"showForm",value:function(e){this.form=document.forms["".concat(e)],this.form.classList.toggle("active")}},{key:"renderTask",value:function(){var e=this.title.value,r=this.body.value;if(!e)return alert("Введите название задачи!"),void this.form.classList.toggle("active");if(!r)return alert("Введите описание задачи!"),void this.form.classList.toggle("active");var t=u.templateTask(e,r);this.container.insertAdjacentHTML("beforeend",t),u.pushCardInArr(),a(),this.btn=document.querySelector(".list-card__button"),this.form.reset(),console.log("task:",c.arrTask),console.log("progress:",c.arrProgress),console.log("complete:",c.arrComplete),console.log("favorite:",JSON.parse(localStorage.getItem("arrCard"))),console.log(" ")}},{key:"getBtn",value:function(){return this.btn}},{key:"templateTask",value:function(e,r){var t=Math.random();return this.id=t,'\n    <div class="list-card js-card" draggable="true" id="'.concat(this.id,'" >\n    <div class="list-card__title">').concat(e,'</div>\n    <div class="list-card__info">').concat(r,'</div>\n    <button class="list-card__button btnF" data-card-id="').concat(this.id,'">Отложить</button>\n  </div>\n    ')}}])&&d(r.prototype,t),o&&d(r,o),e}()),f=u,v=document.querySelectorAll(".js-cell"),p=document.querySelector(".js-task"),h=document.querySelector(".js-progress"),g=document.querySelector(".js-complete"),m=document.querySelector(".header-favorites__counter"),b=document.querySelector(".header-favorites"),k=document.querySelector(".favorites"),y=document.querySelector(".wrapper");document.getElementById("taskC");function C(e,r){e.preventDefault(),"taskForm"===r&&p.classList.toggle("active-btn"),"progressForm"===r&&h.classList.toggle("active-btn"),"activeForm"===r&&g.classList.toggle("active-btn"),f.showForm("".concat(r))}s.plusCounter(),m.textContent=s._counter,b.addEventListener("click",(function(e){b.classList.toggle("margin-r"),k.classList.toggle("active-favorites"),document.body.classList.toggle("width-hero"),y.classList.toggle("right-wrapper"),s.showTaskInFavorites()})),p.addEventListener("click",(function(e){C(e,"taskForm")})),h.addEventListener("click",(function(e){C(e,"progressForm")})),g.addEventListener("click",(function(e){C(e,"activeForm")})),v.forEach((function(e){e.addEventListener("click",(function(e){!function(e){if(e.target.classList.contains("btnF")){var r=e.target.getAttribute("data-card-id");if(!s.checkArrFavorites(r))return void console.log("Вы уже добавили этот билет");s.init(r),s.showTaskInFavorites(),c.deleteCardinArr(r,e)}}(e)}))})),v.forEach((function(e){e.addEventListener("submit",(function(e){!function(e){e.preventDefault();var r=e.target.name;f.init(r),f.renderTask(),"taskForm"===r?p.classList.remove("active-btn"):"progressForm"===r?h.classList.remove("active-btn"):g.classList.remove("active-btn")}(e)}))}))}});